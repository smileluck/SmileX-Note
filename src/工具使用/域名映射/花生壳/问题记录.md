[toc]

---

# 关于花生壳连接映射地址失败

- 问题：花生壳软件连接域名服务器失败，但是测试时实际是能通的

- 解决办法：花生壳映射失败需要根据使用的应用及本地网络环境进行排查解决。

  1,检查本地hosts解析文件。看看是否有错误的内网IP地址解析到域名。

  2,本地清除DNS缓存,或更换电信或阿里云公共DNS。可能是本地DNS解析未刷新原因引起。

  3,本地安装目录删除本地生成配置文件PhMain.ini,然后重启应用。配置文件出错了,我也不知道这是为什么,官方就是这么说的,具体原因不详。

  4,操作失误,重新做一次映射流程。

  5,没有内网映射资格。需要抢资格或开通。

  6,流量用完或过期。抢到的映射资格有1G流量限制,一个月有效期。

  7,非默认随机二级域名,或非转入解析域名。使用自己的域名需要转入域名解析,且开通映射资格。不支持自主域名哦。

   

  此外，还可能使端口问题。

  1、 尝试：本地连接-属性-双击internet协议-使用下面的DNS服务器地址-首选：8.8.8.8备用：8.8.4.4-确定-然后通过开始-运行-cmd-ipconfig/flushdns 命令清理缓存，再重新登录看下是否正常。

  2、 试下命令其他命令，看反馈什么结果，或者使用命令清理下缓存：ipconfig/flushdns 以及清理下浏览器的缓存，看是否还能访问本地。

  3、 把相关缓存文件清除，重新操作下映射。

  4、 若以上操作都无法解决，建议转入解析到我们，对域名增加cname选配，再进行设置。

