[toc]

---

# Netty



# 待整理

## 记录1
1. 重视知识积累
2. 微服务概念了解， 微服务各个组件的了解
3. 什么是自旋锁
4. 审阅代码过程中，发现金额在分布式锁并发下，可能会产生数据错乱的问题，随即提出重构方案，独立重构支付服务的问题。
并不是最终一致性的方式，可以通过最终一致性进行更新使用。
5. 要跳出问题去看知识。
6. 单机提升3k到2w，用户并发500到800，遇到什么问题。

## 记录2 


怎么实现接口鉴权（比如不同层级，如果需要佛山，传入了广东省）
怎么优化慢sql
1. 数据量过大，这时需要做分库分表
2. 提升服务器物理性能
3. 优化sql语句查询，清除不必要的字段查询，减少回表
4. 优化索引结构
5. 通过 explain 方法看是否命中索引


怎么优化查询条件比较多且联表查询的sql（分页别忘记）
1. 连表查询基本优化原则，小表驱动大表的形式（exists 和 in的区别）
2. 在主要匹配的字段上添加联合索引
3. 利用关联子查询的方式优化，先利用select id from a.id的方式，覆盖索引的方式直接获取出需要查询的id范围
4. 还有用上页的最后一个 id进行where条件，这样会做索引下沉，提高查询效率


什么情况下导致索引失效（引用字段为null的场景别忘记）
1. like %前置
2. 类型转黄
3. 函数运算
4. 组合索引中，索引列顺序不匹配，
5. or查询
具体可以通过explain分析是否走索引。

给你个有英文单词的文件，分析文件中有哪些单词，统计单词数（从请求参数的设计到返回参数的设计到代码编写，怎么优化代码）
以为是要做关键词匹配dfa算法，实际是简单的切割遍历判断

设计一个黑名单实现
redis+set

## 记录3


1. 数仓方面的技术架构，分析型数据库、商务智能
2. netty的性能调优，集群架构实现
3. IO模型，select/poll,epoll，三者区别
4. netty的零拷贝（kafka也有用到）
5. rabbitmq的性能问题
6. rabbitmq的集群问题
7. emqp到rabbitmq是否处理过
8. 如何搭建rabbitmq的环境
9. netty和mq的心跳机制做过没有，如果出现宕机怎么识别是否在线
10. 一个服务内搭建多个netty服务有什么问题
11. 物联网数据存储一般的选型?(我这里回复是选择使用了mysql，主要是是技术栈问题，另一方面没有业务上没有要求实时性等问题，如果有可能考虑时序数据库或者别的存储方式)
12. 前面提到了时序数据库，就想问我有用过哪些，我就只是说只了解了一下，本来是想要用mongodb做mysql的替代，但是还是没有去改造。
13. 物联网中遇到什么问题？我这里说的是消息积压，然后怎么做处理了
14. 通信过程中，如何识别指令，以及对应指令响应的是哪条消息
15. 硬件数据通过netty上报平台后，怎么处理？
16. 有用dubbo做什么？
17. 服务间通信，用dubbo做内部还是做外部通信？
18. 有遇到过什么dubbo调用的问题吗？
19. dubbo的失败策略有哪些？是如何选择的？
20. duboo如何使用一个大数据量的传输？
21. rpc怎么去做一个大数据量传输，比如流或者文件？或者说http
22. dubbo/rpc的隐私传参怎么做？
23. nacos 断了以后，服务之间还能通信吗？会有什么影响？
24. nacos 心跳机制和选举方式
25. nacos 配置更新后，是属于主动传输还是被动传输
26. 多租户的设计方案，如何管理
27. 多数据源的切换和事务问题
28. 通信的加密方式

## 记录4

1. 单点登录实现 ？
2. 全国多服务机器如何实现就近服务访问？